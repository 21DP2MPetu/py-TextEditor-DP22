import tkinter as tk
import os
from tkinter import filedialog
import sys
from tkinter import *
from tkinter import Tk
from tkinter.ttk import *

class GUI:
    
    def __init__(self, root):
    # Attributes
        self.root = root
        # self.root.state("zoomed")
        self.root.geometry("600x600")
        self.root.title("Tt-edit: Beta")
        self.root.configure(bg="#e0e0e0")
        
    # Icon

        photo = tk.PhotoImage(file = "icon.png")
        self.root.iconphoto(False, photo)

    #  Getting screen sizes
        SCREEN_HEIGHT = self.root.winfo_screenheight()
        SCREEN_WIDTH = self.root.winfo_screenwidth()

    # Event Handlers

        # Open file system

        def button_open_h():
            file_path = filedialog.askopenfilename()
            if not file_path:
                return
            textarea.delete("1.0", tk.END)
            file_text = open(file_path, "r")
            textarea.insert(tk.END, file_text.read())
            file_text.close()
            file_name = os.path.basename(file_path) # os.path.basename()
            create_tab(file_name)
            self.root.title(file_name)

        # New file system

        def button_new_h():
            textarea.delete("1.0", tk.END)
            create_tab("New file")
            self.root.title("New File")

        # Save file system

        def button_save_h():
            file_path = filedialog.asksaveasfilename(defaultextension=".txt")
            if not file_path:
                return
            file_text = open(file_path, mode="w", encoding="utf=8")
            text = textarea.get("1.0", tk.END)
            file_text.write(text)

        # About button handler

        def about_button():
            
            root = tk.Tk()
            root.title("About: Tt-Edit")
            root.geometry("400x400")
            # photo = tk.PhotoImage(file = "icon.png")
            # root.iconphoto(False, photo)

            about0 = tk.Label(root, text="Name: Tt-Edit")
            about1 = tk.Label(root, text="Version: Beta")
            # about2 = tk.Label(root, text="Year: 2023 (placeholder:Copyright Â© 2023)")
            about3 = tk.Label(root, text="Year: 2023")
            about4 = tk.Label(root, text="################")
            about5 = tk.Label(root, text="")
            about6 = tk.Label(root, text="Developer Notes:", fg='#038516')
            about6n2 = tk.Label(root, text="# This Program is Not for Daily Use right now!!! #", fg='#6b0101')
            about7 = tk.Label(root, text="Since this Program is in Beta stage", fg='#ff0000')
            about8 = tk.Label(root, text="And is still in Development...", fg='#ff0000')
            about9 = tk.Label(root, text="Use this program at your own risk!", fg='#ff0000')
            about10 = tk.Label(root, text="")
            about11 = tk.Label(root, text="################")
            about0.pack()
            about1.pack()
            # about2.pack()
            about3.pack()
            about4.pack()
            about5.pack()
            about6.pack()
            about6n2.pack()
            about7.pack()
            about8.pack()
            about9.pack()
            about10.pack()
            about11.pack()

            root.mainloop

    # Exit Button, Exiting program!

        def exit_button():
            sys.exit("")
            root.mainloop
    # Exit Button Function Complete!

        # Calculator Function.

        # def calc_button():
            
        #     # root = tk.Tk()
        #     # root.title("About: Text Editor")
        #     # root.geometry("270x280")

        #     # about0 = tk.Label(root, text="Name: Tt-Edit: Beta")
        #     # about0.pack()
        #     sys.exit("")

        #     root.mainloop

        # Create Tab

        def create_tab(tab_name):

            tk.Label(master=tab_frame, text=tab_name, foreground="black", background="#d7dbe0", width=10).grid(row=0, column=0, padx=1)

    # Frames

        # Side Frame hierarchy

        side_frame = tk.Frame(master=self.root)
        side_frame.pack(side=tk.LEFT)

        # Main Frame hierarchy (Tabs, Area)

        main_frame = tk.Frame(master=self.root)
        main_frame.pack()

        # Tabs Frame

        tab_frame = tk.Frame(master=main_frame)
        tab_frame.pack()

        # Area Frame

        area_frame = tk.Frame(master=main_frame)
        area_frame.pack(side=tk.BOTTOM, fill=tk.Y)

    # Buttons

        # Side buttons

        button_open = tk.Button(text="Open File", master=side_frame, width=8, command=button_open_h)
        button_open.grid(row=0, column=0, sticky="W", pady=1)

        button_new = tk.Button(text="New File", master=side_frame, width=8, command=button_new_h)
        button_new.grid(row=1, column=0, sticky="W", pady=1)

        button_save = tk.Button(text="Save File", master=side_frame, width=8, command=button_save_h)
        button_save.grid(row=2, column=0, sticky="W", pady=1)

        button_about = tk.Button(text="About", master=side_frame, width=8, command=about_button)
        button_about.grid(row=3, column=0, sticky="W", pady=1)

        button_exit = tk.Button(text="Exit", master=side_frame, width=8, command=exit_button)
        button_exit.grid(row=4, column=0, sticky="W", pady=1)

        # button_calc = tk.Button(text="Calculator", master=side_frame, width=8, command=calc_button)
        # button_calc.grid(row=5, column=0, sticky="W", pady=1)

    # TextArea

        # Area textarea

        textarea = tk.Text(master=area_frame, width=SCREEN_WIDTH, height=SCREEN_WIDTH)
        textarea.pack()

    # Labels

        # Tabs labels


    def removethis(self):
        self.frame.destroy()
